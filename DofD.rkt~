#lang racket


(struct ttt (board moves))
(struct action (player positon))

(define (generate-ttt-tree player1 player2)
  (define (generate-tree board player opponent)
    (ttt board (generate-moves board player opponent)))
  (define (generate-moves board0 player opponent)
    (define free-fileds (board-find-free-fields board0))
    (for/list ((f free-fileds))
      (define actnow (action player f))
      (define board1 (board-take-field board0 player f))
      (list actnow (generate-tree board1 opponent player))))
  (generate-tree the-emptyboard player1 player2))

